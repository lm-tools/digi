{{<layout}}
{{$pageTitle}}{{#__}}search.pageTitle{{/__}}{{/pageTitle}}
{{$applicationContent}}

<h2 class="heading-xlarge" data-test="header">{{#__}}search.header{{/__}}</h2>
<div class="grid-row">
  <section class="column-one-third search-page-filters" aria-label="{{#__}}search.searchSectionAria{{/__}}">
    <form action="{{basePath}}/search" method="get">

      <div class="govuk-option-select filter-field-text">
        <div class="container-head">
          <label class="option-select-label" for="keywords">
            {{#__}}search.searchButtonLabel{{/__}}
          </label>
        </div>
        <input type="search" name="search" id="keywords" value="{{ search }}" maxlength="200" data-test="search-input">
      </div>

      <div class="filter-form">


<!-- 

https://govuk-static.herokuapp.com/component-guide/option_select
https://github.com/alphagov/static/blob/9e8795b262c948a65b798029864cbe04f193262a/app/assets/javascripts/govuk-component/option-select.js

 -->

<div class="govuk-option-select js-collapsible js-closed">
  <button class="js-container-head" type="button" aria-expanded="false" aria-controls="list_of_sectors">
    <div class="option-select-label">Category</div>
  <div class="js-selected-counter"></div></button>
  <div class="options-container" id="list_of_sectors">
    <div class="js-auto-height-inner">
      {{#categoryList}}
      <label for="category-{{number}}">
        <input name="categories" value="{{ title }}" id="category-{{number}}" type="checkbox">
        {{ title }}
        </label>
      {{/categoryList}}

    </div>

  </div>
</div>





  </div>

      <div class="form-group">
        <button class="button" type="submit" data-test="search-button">{{#__}}search.searchButton{{/__}}</button>
      </div>
    </form>
  </section>
  <section class="column-two-thirds" aria-label="{{#__}}search.resultsSectionAria{{/__}}">

    <p class="search-summary" data-test="search-summary">
      <span class="search-summary-count">{{resourceList.length}}</span> {{resultsSummaryCopy}} <strong>{{ search }}</strong>
    </p>

    {{^hasResults}}
      <p class="search-message" data-test="search-message">
        {{#__}}search.emptyResults{{/__}}
      </p>
    {{/hasResults}}


    {{#resourceList}}
      <div class="search-result" data-test="resource">
        <h2 class="search-result-title" data-test="title">
          <a href="{{ basePath }}/resources/{{ resourceId }}?fromSearch={{search}}" data-test="resource-{{resourceId}}">
            {{ title }}
          </a>
        </h2>
        <p class="search-result-excerpt" data-test="summary">
          {{summary}}
        </p>
<!--         <ul aria-label="tags" class="search-result-metadata">
          {{#categories}}
            <li class="search-result-category" data-test="category">
              <a href="{{ basePath }}/search?search={{ categoryEncoded }}" data-test="category-link">{{ category }}</a>
            </li>
          {{/categories}}

        </ul>
 -->      </div>
    {{/resourceList}}
  </section>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
$( ".js-collapsible" ).click(function() {
if ($(this).hasClass( "js-closed" )) {
  $(this).removeClass( "js-closed" );
} else{
  $(this).addClass( "js-closed" )
};

});
</script>
{{/applicationContent}}

{{/layout}}
